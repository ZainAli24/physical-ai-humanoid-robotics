"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_01=globalThis.webpackChunkphysical_ai_humanoid_robotics_01||[]).push([[818],{376:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>a,default:()=>h,frontMatter:()=>l,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"module-1-ros2/nodes-topics-services","title":"Nodes, Topics, and Services","description":"Prerequisites","source":"@site/docs/module-1-ros2/nodes-topics-services.md","sourceDirName":"module-1-ros2","slug":"/module-1-ros2/nodes-topics-services","permalink":"/physical-ai-humanoid-robotics/docs/module-1-ros2/nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/module-1-ros2/nodes-topics-services.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"mainSidebar","previous":{"title":"ROS 2 Fundamentals","permalink":"/physical-ai-humanoid-robotics/docs/module-1-ros2/ros2-fundamentals"},"next":{"title":"Building ROS 2 Packages with Python","permalink":"/physical-ai-humanoid-robotics/docs/module-1-ros2/building-packages-python"}}');var i=n(4848),t=n(8453);const l={sidebar_position:2},a="Nodes, Topics, and Services",o={},c=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Understanding Nodes",id:"understanding-nodes",level:2},{value:"What Are Nodes?",id:"what-are-nodes",level:3},{value:"When to Create Multiple Nodes",id:"when-to-create-multiple-nodes",level:3},{value:"Node Anatomy",id:"node-anatomy",level:3},{value:"Topics and Publish-Subscribe",id:"topics-and-publish-subscribe",level:2},{value:"The Publish-Subscribe Pattern",id:"the-publish-subscribe-pattern",level:3},{value:"When to Use Topics",id:"when-to-use-topics",level:3},{value:"Topic Communication Benefits",id:"topic-communication-benefits",level:3},{value:"Message Flow in Topics",id:"message-flow-in-topics",level:3},{value:"Services and Request-Response",id:"services-and-request-response",level:2},{value:"The Service Pattern",id:"the-service-pattern",level:3},{value:"When to Use Services vs Topics",id:"when-to-use-services-vs-topics",level:3},{value:"Service Guarantees",id:"service-guarantees",level:3},{value:"Code Examples",id:"code-examples",level:2},{value:"Example 1: Minimal Publisher",id:"example-1-minimal-publisher",level:3},{value:"Example 2: Minimal Subscriber",id:"example-2-minimal-subscriber",level:3},{value:"Example 3: Temperature Sensor Publisher",id:"example-3-temperature-sensor-publisher",level:3},{value:"Example 4: Temperature Monitor Subscriber",id:"example-4-temperature-monitor-subscriber",level:3},{value:"Example 5: Adding Service Server",id:"example-5-adding-service-server",level:3},{value:"Example 6: Adding Service Client",id:"example-6-adding-service-client",level:3},{value:"Example 7: Multi-Node System",id:"example-7-multi-node-system",level:3},{value:"Message Types",id:"message-types",level:2},{value:"Standard Message Types",id:"standard-message-types",level:3},{value:"Common Interface Types",id:"common-interface-types",level:3},{value:"Custom Message Types",id:"custom-message-types",level:3},{value:"Message Inspection",id:"message-inspection",level:3},{value:"Best Practices",id:"best-practices",level:3},{value:"Hands-On Exercises",id:"hands-on-exercises",level:2},{value:"Exercise 1: Publisher-Subscriber Pair",id:"exercise-1-publisher-subscriber-pair",level:3},{value:"Exercise 2: Sensor Data Processing",id:"exercise-2-sensor-data-processing",level:3},{value:"Exercise 3: Service Configuration",id:"exercise-3-service-configuration",level:3},{value:"Exercise 4: Multi-Publisher System",id:"exercise-4-multi-publisher-system",level:3},{value:"Exercise 5: Topic Inspection",id:"exercise-5-topic-inspection",level:3},{value:"Key Takeaways",id:"key-takeaways",level:2}];function d(e){const s={a:"a",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"nodes-topics-and-services",children:"Nodes, Topics, and Services"})}),"\n",(0,i.jsx)(s.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Completed ROS 2 Fundamentals chapter"}),"\n",(0,i.jsx)(s.li,{children:"ROS 2 Humble installed and configured"}),"\n",(0,i.jsx)(s.li,{children:"Basic Python 3.10+ programming knowledge"}),"\n",(0,i.jsx)(s.li,{children:"Understanding of object-oriented programming concepts"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsxs)(s.p,{children:["In the previous chapter, we learned about the ROS 2 computational graph\u2014a network of processes working together to control a robot. Now we'll dive into the fundamental building blocks that make this distributed communication possible: ",(0,i.jsx)(s.strong,{children:"nodes"}),", ",(0,i.jsx)(s.strong,{children:"topics"}),", and ",(0,i.jsx)(s.strong,{children:"services"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"Modern robotic systems are inherently complex, requiring multiple subsystems to work simultaneously: sensors collecting data, processors making decisions, and actuators executing commands. ROS 2's communication paradigm elegantly solves this challenge by allowing independent processes to exchange information through well-defined patterns. Understanding these patterns is essential for building scalable, maintainable robot applications."}),"\n",(0,i.jsx)(s.p,{children:"In this chapter, you'll learn when to use publish-subscribe communication (topics) versus request-response patterns (services), how to structure your application into logical nodes, and most importantly, you'll write real Python code that demonstrates these concepts in action. By the end, you'll have hands-on experience building multi-node systems that mirror real-world robotics architectures."}),"\n",(0,i.jsx)(s.h2,{id:"understanding-nodes",children:"Understanding Nodes"}),"\n",(0,i.jsx)(s.h3,{id:"what-are-nodes",children:"What Are Nodes?"}),"\n",(0,i.jsxs)(s.p,{children:["A ",(0,i.jsx)(s.strong,{children:"node"})," is an executable process that performs a specific computational task in your robot system. Think of nodes as specialized workers in a factory: each has a distinct responsibility, and together they accomplish complex operations. In ROS 2, every node is built on the `rclpy.node.Node` class, which provides the infrastructure for communication, parameter management, and lifecycle control."]}),"\n",(0,i.jsx)(s.h3,{id:"when-to-create-multiple-nodes",children:"When to Create Multiple Nodes"}),"\n",(0,i.jsx)(s.p,{children:"The decision to split functionality into separate nodes versus keeping it in one node is architectural. Here are key principles:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Create separate nodes when:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Different update rates are needed"}),": A camera might publish at 30 Hz while a lidar publishes at 10 Hz"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Independent failure domains"}),": If one component crashes, others continue running"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Different languages or dependencies"}),": You can mix Python, C++, and other ROS 2 client libraries"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Logical separation"}),": Perception, planning, and control are distinct concerns"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Reusability"}),": A generic laser scanner node can be reused across multiple robots"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Keep functionality in one node when:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Tight coupling exists"}),": Components share significant state or need synchronous execution"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Performance is critical"}),": Inter-process communication has overhead compared to function calls"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Simplicity matters"}),": For small projects, one well-structured node may be clearer"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"In ROS 2, nodes are first-class citizens. Each has a unique name in the computational graph, can be discovered dynamically, and can be launched, stopped, or reconfigured independently. This modularity is what makes ROS 2 systems maintainable as they scale from prototypes to production robots."}),"\n",(0,i.jsx)(s.h3,{id:"node-anatomy",children:"Node Anatomy"}),"\n",(0,i.jsx)(s.p,{children:"Every ROS 2 Python node follows a consistent structure:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Imports"}),": ROS 2 client library and message types"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Class definition"}),": Inherits from `rclpy.node.Node`"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Constructor"}),": Initializes publishers, subscribers, timers, services"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Callback methods"}),": Handle events (messages, timer ticks, service requests)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Main function"}),": Initializes ROS, creates node instance, spins"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This pattern will become second nature as you work through the examples below."}),"\n",(0,i.jsx)(s.h2,{id:"topics-and-publish-subscribe",children:"Topics and Publish-Subscribe"}),"\n",(0,i.jsx)(s.h3,{id:"the-publish-subscribe-pattern",children:"The Publish-Subscribe Pattern"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Topics"})," implement a many-to-many, asynchronous communication pattern. Publishers send data without knowing who (if anyone) is listening. Subscribers receive data without knowing who sent it. This decoupling is powerful for robotics where components are added, removed, or replaced frequently."]}),"\n",(0,i.jsx)(s.p,{children:"```mermaid\nsequenceDiagram\nparticipant Publisher\nparticipant Topic\nparticipant Subscriber1\nparticipant Subscriber2"}),"\n",(0,i.jsx)(s.p,{children:"Publisher->>Topic: publish(msg)\nTopic--\x3e>Subscriber1: msg\nTopic--\x3e>Subscriber2: msg\nPublisher->>Topic: publish(msg)\nTopic--\x3e>Subscriber1: msg\nTopic--\x3e>Subscriber2: msg\n```"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Figure 1: Publish-Subscribe Pattern - One publisher sends data to multiple subscribers through a topic"})}),"\n",(0,i.jsx)(s.h3,{id:"when-to-use-topics",children:"When to Use Topics"}),"\n",(0,i.jsx)(s.p,{children:"Topics are ideal for:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Streaming sensor data"}),": Cameras, lidars, IMUs publishing continuously"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Status updates"}),": Robot battery level, error messages, diagnostic information"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Command streams"}),": Velocity commands for motor control"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Logging and visualization"}),": Debug data that may have zero or multiple consumers"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["The key characteristic is ",(0,i.jsx)(s.strong,{children:"continuous data flow"})," where the producer doesn't need acknowledgment from consumers."]}),"\n",(0,i.jsx)(s.h3,{id:"topic-communication-benefits",children:"Topic Communication Benefits"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Anonymous communication"}),": Publishers don't track subscribers"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Dynamic discovery"}),": New subscribers can join anytime"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Scalability"}),": Adding subscribers doesn't impact publishers"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Fault isolation"}),": A crashed subscriber doesn't affect the publisher"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Quality of Service (QoS)"}),": Fine-tune reliability, durability, history policies"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"message-flow-in-topics",children:"Message Flow in Topics"}),"\n",(0,i.jsx)(s.p,{children:"When a publisher sends a message:"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"The message is serialized (converted to bytes)"}),"\n",(0,i.jsx)(s.li,{children:"The DDS middleware propagates it to all matched subscribers"}),"\n",(0,i.jsx)(s.li,{children:"Each subscriber's middleware deserializes the message"}),"\n",(0,i.jsx)(s.li,{children:"The subscriber's callback function is invoked with the message"}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"This happens asynchronously\u2014publishers never block waiting for subscribers."}),"\n",(0,i.jsx)(s.h2,{id:"services-and-request-response",children:"Services and Request-Response"}),"\n",(0,i.jsx)(s.h3,{id:"the-service-pattern",children:"The Service Pattern"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Services"})," implement a one-to-one, synchronous request-response pattern. A client sends a request and blocks (or waits asynchronously) until the server sends a reply. This pattern mirrors function calls across process boundaries."]}),"\n",(0,i.jsx)(s.p,{children:"```mermaid\nsequenceDiagram\nparticipant Client\nparticipant Service\nparticipant Server"}),"\n",(0,i.jsx)(s.p,{children:"Client->>Service: request\nService->>Server: request\nServer->>Server: process request\nServer->>Service: response\nService->>Client: response\n```"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.em,{children:"Figure 2: Service Request-Response Pattern - Client waits for server's response"})}),"\n",(0,i.jsx)(s.h3,{id:"when-to-use-services-vs-topics",children:"When to Use Services vs Topics"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Use services when:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Immediate response is needed"}),': "What is the robot\'s current pose?"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Action triggers computation"}),': "Calculate a path from A to B"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"State queries"}),': "Is the gripper open?"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Configuration changes"}),': "Set maximum velocity to 2.0 m/s"']}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Transactional operations"}),": Operations that should complete or fail atomically"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Use topics when:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Continuous data streams"}),": Sensor readings, odometry updates"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"One-way notifications"}),": Alerts, logs, status messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Multiple consumers"}),": Many nodes need the same data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Temporal decoupling"}),": Producer and consumer don't need synchronized timing"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"A common pattern: use topics for data flow and services for control/configuration."}),"\n",(0,i.jsx)(s.h3,{id:"service-guarantees",children:"Service Guarantees"}),"\n",(0,i.jsx)(s.p,{children:"ROS 2 services provide:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Request uniqueness"}),": Each request gets exactly one response"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Timeout support"}),": Clients can abandon slow requests"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Synchronous or async"}),": Block on call or use callbacks/futures"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Type safety"}),": Request and response messages are strongly typed"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:"However, services don't guarantee:"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Reliability"}),": If the server crashes, the request fails"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Multiple responses"}),": Each call returns one response (use actions for feedback)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Persistence"}),": No built-in retry or queuing"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,i.jsx)(s.p,{children:"Now let's build these concepts with real Python code. We'll start simple and progressively add complexity."}),"\n",(0,i.jsx)(s.h3,{id:"example-1-minimal-publisher",children:"Example 1: Minimal Publisher"}),"\n",(0,i.jsx)(s.p,{children:"This example demonstrates the simplest possible publisher that sends string messages at 1 Hz."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalPublisher(Node):\n    """Publishes string messages at 1 Hz."""\n\n    def __init__(self):\n        super().__init__(\'minimal_publisher\')\n        # Create publisher: topic name, message type, queue size\n        self.publisher_ = self.create_publisher(String, \'topic\', 10)\n        # Create timer: period in seconds, callback function\n        self.timer = self.create_timer(1.0, self.timer_callback)\n        self.i = 0\n        self.get_logger().info(\'MinimalPublisher initialized\')\n\n    def timer_callback(self):\n        """Called every 1 second by the timer."""\n        msg = String()\n        msg.data = f\'Hello World: {self.i}\'\n        self.publisher_.publish(msg)\n        self.get_logger().info(f\'Publishing: "{msg.data}"\')\n        self.i += 1\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    rclpy.spin(minimal_publisher)\n    minimal_publisher.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 8"}),": Every node inherits from ",(0,i.jsx)(s.code,{children:"rclpy.node.Node"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 12"}),": ",(0,i.jsx)(s.code,{children:"create_publisher()"})," takes message type, topic name, and QoS queue size"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 14"}),": ",(0,i.jsx)(s.code,{children:"create_timer()"})," schedules periodic callbacks (1.0 second interval)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 19"}),": Publishers send messages with ",(0,i.jsx)(s.code,{children:".publish()"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 20"}),": ",(0,i.jsx)(s.code,{children:"get_logger()"})," provides ROS 2's logging system"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [minimal_publisher]: Publishing: "Hello World: 0"\n[INFO] [minimal_publisher]: Publishing: "Hello World: 1"\n[INFO] [minimal_publisher]: Publishing: "Hello World: 2"\n...\n'})}),"\n",(0,i.jsx)(s.h3,{id:"example-2-minimal-subscriber",children:"Example 2: Minimal Subscriber"}),"\n",(0,i.jsx)(s.p,{children:"This subscriber listens to the publisher above and prints received messages."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\n\nclass MinimalSubscriber(Node):\n    """Subscribes to string messages and logs them."""\n\n    def __init__(self):\n        super().__init__(\'minimal_subscriber\')\n        # Create subscription: message type, topic name, callback, queue size\n        self.subscription = self.create_subscription(\n            String,\n            \'topic\',\n            self.listener_callback,\n            10\n        )\n        self.get_logger().info(\'MinimalSubscriber initialized\')\n\n    def listener_callback(self, msg):\n        """Called automatically when a message arrives."""\n        self.get_logger().info(f\'I heard: "{msg.data}"\')\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_subscriber = MinimalSubscriber()\n    rclpy.spin(minimal_subscriber)\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 12-17"}),": ",(0,i.jsx)(s.code,{children:"create_subscription()"})," registers a callback for incoming messages"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 20"}),": Callback receives the message object as a parameter"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Asynchronous execution"}),": The callback runs whenever data arrives, not on a fixed schedule"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:'[INFO] [minimal_subscriber]: I heard: "Hello World: 0"\n[INFO] [minimal_subscriber]: I heard: "Hello World: 1"\n[INFO] [minimal_subscriber]: I heard: "Hello World: 2"\n...\n'})}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Try It:"}),"\nRun both nodes in separate terminals:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"# Terminal 1\nros2 run my_package minimal_publisher\n\n# Terminal 2\nros2 run my_package minimal_subscriber\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-3-temperature-sensor-publisher",children:"Example 3: Temperature Sensor Publisher"}),"\n",(0,i.jsx)(s.p,{children:"A more realistic example: simulating a temperature sensor with Float64 messages."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float64\nimport random\n\n\nclass TemperatureSensorPublisher(Node):\n    """Simulates a temperature sensor publishing readings."""\n\n    def __init__(self):\n        super().__init__(\'temperature_sensor\')\n        self.publisher_ = self.create_publisher(Float64, \'temperature\', 10)\n        # Publish at 2 Hz (twice per second)\n        self.timer = self.create_timer(0.5, self.publish_temperature)\n        self.get_logger().info(\'Temperature sensor started\')\n\n    def publish_temperature(self):\n        """Simulate temperature reading with noise."""\n        # Base temperature 20\xb0C with \xb12\xb0C random variation\n        temp = 20.0 + random.uniform(-2.0, 2.0)\n\n        msg = Float64()\n        msg.data = round(temp, 2)\n        self.publisher_.publish(msg)\n        self.get_logger().info(f\'Temperature: {msg.data}\xb0C\')\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    sensor = TemperatureSensorPublisher()\n    rclpy.spin(sensor)\n    sensor.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 3"}),": ",(0,i.jsx)(s.code,{children:"Float64"})," is a standard ROS 2 message type for numeric data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 14"}),": Timer runs at 2 Hz (0.5 second period)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Real-world pattern"}),": Sensors typically publish at fixed rates matching their hardware sampling frequency"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"[INFO] [temperature_sensor]: Temperature: 19.23\xb0C\n[INFO] [temperature_sensor]: Temperature: 21.87\xb0C\n[INFO] [temperature_sensor]: Temperature: 18.54\xb0C\n...\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-4-temperature-monitor-subscriber",children:"Example 4: Temperature Monitor Subscriber"}),"\n",(0,i.jsx)(s.p,{children:"This subscriber processes temperature data and triggers warnings."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float64\n\n\nclass TemperatureMonitor(Node):\n    \"\"\"Monitors temperature and logs warnings for extreme values.\"\"\"\n\n    def __init__(self):\n        super().__init__('temperature_monitor')\n        self.subscription = self.create_subscription(\n            Float64,\n            'temperature',\n            self.temperature_callback,\n            10\n        )\n        # Configure thresholds\n        self.temp_min = 15.0  # \xb0C\n        self.temp_max = 25.0  # \xb0C\n        self.reading_count = 0\n        self.get_logger().info('Temperature monitor started')\n\n    def temperature_callback(self, msg):\n        \"\"\"Process temperature reading and check thresholds.\"\"\"\n        temp = msg.data\n        self.reading_count += 1\n\n        if temp < self.temp_min:\n            self.get_logger().warn(\n                f'LOW TEMPERATURE ALERT: {temp}\xb0C (min: {self.temp_min}\xb0C)'\n            )\n        elif temp > self.temp_max:\n            self.get_logger().warn(\n                f'HIGH TEMPERATURE ALERT: {temp}\xb0C (max: {self.temp_max}\xb0C)'\n            )\n        else:\n            self.get_logger().info(f'Temperature OK: {temp}\xb0C')\n\n        # Log statistics every 10 readings\n        if self.reading_count % 10 == 0:\n            self.get_logger().info(\n                f'Processed {self.reading_count} temperature readings'\n            )\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    monitor = TemperatureMonitor()\n    rclpy.spin(monitor)\n    monitor.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 28-36"}),": Conditional logic based on sensor data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"State tracking"}),": The node maintains ",(0,i.jsx)(s.code,{children:"reading_count"})," across callbacks"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Logging levels"}),": ",(0,i.jsx)(s.code,{children:"warn()"})," for alerts, ",(0,i.jsx)(s.code,{children:"info()"})," for normal operation"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"[INFO] [temperature_monitor]: Temperature OK: 19.23\xb0C\n[WARN] [temperature_monitor]: HIGH TEMPERATURE ALERT: 26.87\xb0C (max: 25.0\xb0C)\n[INFO] [temperature_monitor]: Temperature OK: 21.54\xb0C\n[INFO] [temperature_monitor]: Processed 10 temperature readings\n...\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-5-adding-service-server",children:"Example 5: Adding Service Server"}),"\n",(0,i.jsx)(s.p,{children:"Services handle request-response interactions. This server adds two integers."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:'import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import AddTwoInts\n\n\nclass AddTwoIntsServer(Node):\n    """Service server that adds two integers."""\n\n    def __init__(self):\n        super().__init__(\'add_two_ints_server\')\n        # Create service: service type, service name, callback\n        self.srv = self.create_service(\n            AddTwoInts,\n            \'add_two_ints\',\n            self.add_two_ints_callback\n        )\n        self.get_logger().info(\'AddTwoInts service ready\')\n\n    def add_two_ints_callback(self, request, response):\n        """Handle service request and return response."""\n        response.sum = request.a + request.b\n        self.get_logger().info(\n            f\'Request: {request.a} + {request.b} = {response.sum}\'\n        )\n        return response\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    server = AddTwoIntsServer()\n    rclpy.spin(server)\n    server.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == \'__main__\':\n    main()\n'})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 3"}),": ",(0,i.jsx)(s.code,{children:"AddTwoInts"})," is a standard ROS 2 service type with ",(0,i.jsx)(s.code,{children:".a"}),", ",(0,i.jsx)(s.code,{children:".b"})," fields in request and ",(0,i.jsx)(s.code,{children:".sum"})," in response"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 12-16"}),": ",(0,i.jsx)(s.code,{children:"create_service()"})," registers the service with a callback"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 19"}),": Service callbacks receive ",(0,i.jsx)(s.code,{children:"request"})," and ",(0,i.jsx)(s.code,{children:"response"})," objects and must return the response"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output (when client sends requests):"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"[INFO] [add_two_ints_server]: Request: 5 + 3 = 8\n[INFO] [add_two_ints_server]: Request: 10 + 20 = 30\n...\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-6-adding-service-client",children:"Example 6: Adding Service Client"}),"\n",(0,i.jsx)(s.p,{children:"This client sends requests to the AddTwoInts service asynchronously."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom example_interfaces.srv import AddTwoInts\n\n\nclass AddTwoIntsClient(Node):\n    \"\"\"Service client that requests integer addition.\"\"\"\n\n    def __init__(self):\n        super().__init__('add_two_ints_client')\n        # Create client: service type, service name\n        self.cli = self.create_client(AddTwoInts, 'add_two_ints')\n\n        # Wait for service to be available\n        while not self.cli.wait_for_service(timeout_sec=1.0):\n            self.get_logger().info('Service not available, waiting...')\n\n    def send_request(self, a, b):\n        \"\"\"Send async request and return future.\"\"\"\n        request = AddTwoInts.Request()\n        request.a = a\n        request.b = b\n\n        self.get_logger().info(f'Sending request: {a} + {b}')\n        # Returns a future object\n        return self.cli.call_async(request)\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n    client = AddTwoIntsClient()\n\n    # Send request\n    future = client.send_request(10, 15)\n\n    # Wait for response\n    rclpy.spin_until_future_complete(client, future)\n\n    if future.result() is not None:\n        result = future.result()\n        client.get_logger().info(f'Result: {result.sum}')\n    else:\n        client.get_logger().error('Service call failed')\n\n    client.destroy_node()\n    rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 15"}),": ",(0,i.jsx)(s.code,{children:"wait_for_service()"})," blocks until the server is available"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 26"}),": ",(0,i.jsx)(s.code,{children:"call_async()"})," sends the request without blocking"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 37"}),": ",(0,i.jsx)(s.code,{children:"spin_until_future_complete()"})," waits for the response"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"[INFO] [add_two_ints_client]: Sending request: 10 + 15\n[INFO] [add_two_ints_client]: Result: 25\n"})}),"\n",(0,i.jsx)(s.h3,{id:"example-7-multi-node-system",children:"Example 7: Multi-Node System"}),"\n",(0,i.jsx)(s.p,{children:"This example combines multiple nodes: a sensor publisher, an aggregator, and a display subscriber."}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"import rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import Float64, String\nimport random\n\n\nclass SensorNode(Node):\n    \"\"\"Publishes raw sensor data.\"\"\"\n\n    def __init__(self):\n        super().__init__('sensor_node')\n        self.publisher_ = self.create_publisher(Float64, 'raw_data', 10)\n        self.timer = self.create_timer(0.5, self.publish_data)\n\n    def publish_data(self):\n        msg = Float64()\n        msg.data = random.uniform(0.0, 100.0)\n        self.publisher_.publish(msg)\n\n\nclass AggregatorNode(Node):\n    \"\"\"Aggregates sensor data and publishes statistics.\"\"\"\n\n    def __init__(self):\n        super().__init__('aggregator_node')\n        self.subscription = self.create_subscription(\n            Float64, 'raw_data', self.data_callback, 10\n        )\n        self.publisher_ = self.create_publisher(String, 'statistics', 10)\n        self.data_buffer = []\n        self.max_buffer_size = 5\n\n    def data_callback(self, msg):\n        self.data_buffer.append(msg.data)\n\n        # Keep only last N readings\n        if len(self.data_buffer) > self.max_buffer_size:\n            self.data_buffer.pop(0)\n\n        # Calculate and publish average\n        if len(self.data_buffer) == self.max_buffer_size:\n            avg = sum(self.data_buffer) / len(self.data_buffer)\n            stats_msg = String()\n            stats_msg.data = f'Avg (last {self.max_buffer_size}): {avg:.2f}'\n            self.publisher_.publish(stats_msg)\n\n\nclass DisplayNode(Node):\n    \"\"\"Displays processed statistics.\"\"\"\n\n    def __init__(self):\n        super().__init__('display_node')\n        self.subscription = self.create_subscription(\n            String, 'statistics', self.display_callback, 10\n        )\n\n    def display_callback(self, msg):\n        self.get_logger().info(f'DISPLAY: {msg.data}')\n\n\ndef main(args=None):\n    rclpy.init(args=args)\n\n    # Create all nodes\n    sensor = SensorNode()\n    aggregator = AggregatorNode()\n    display = DisplayNode()\n\n    # Create executor to manage all nodes\n    executor = rclpy.executors.MultiThreadedExecutor()\n    executor.add_node(sensor)\n    executor.add_node(aggregator)\n    executor.add_node(display)\n\n    try:\n        executor.spin()\n    finally:\n        sensor.destroy_node()\n        aggregator.destroy_node()\n        display.destroy_node()\n        rclpy.shutdown()\n\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Key Concepts:"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Multi-node architecture"}),": Three nodes with distinct responsibilities"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Data pipeline"}),": Sensor \u2192 Aggregator \u2192 Display"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Line 69"}),": ",(0,i.jsx)(s.code,{children:"MultiThreadedExecutor"})," runs multiple nodes in one process"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Real-world pattern"}),": Mirrors perception \u2192 processing \u2192 visualization pipelines"]}),"\n"]}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.strong,{children:"Expected Output:"})}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"[INFO] [display_node]: DISPLAY: Avg (last 5): 52.34\n[INFO] [display_node]: DISPLAY: Avg (last 5): 48.91\n[INFO] [display_node]: DISPLAY: Avg (last 5): 55.67\n...\n"})}),"\n",(0,i.jsx)(s.h2,{id:"message-types",children:"Message Types"}),"\n",(0,i.jsxs)(s.p,{children:["ROS 2 uses ",(0,i.jsx)(s.strong,{children:"strongly-typed messages"})," for all communication. Every topic and service has a defined message type that specifies the data structure, ensuring type safety across the system."]}),"\n",(0,i.jsx)(s.h3,{id:"standard-message-types",children:"Standard Message Types"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"std_msgs"})," package provides primitive types:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs/String"}),": Text data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs/Float64"}),", ",(0,i.jsx)(s.code,{children:"Float32"}),": Floating-point numbers"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs/Int32"}),", ",(0,i.jsx)(s.code,{children:"Int64"}),": Integers"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs/Bool"}),": Boolean values"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"std_msgs/Header"}),": Timestamp and frame metadata"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"common-interface-types",children:"Common Interface Types"}),"\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"common_interfaces"})," packages provide domain-specific messages:"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"sensor_msgs"}),": LaserScan, Image, Imu, NavSatFix"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"geometry_msgs"}),": Point, Pose, Twist, Transform"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"nav_msgs"}),": Odometry, Path, OccupancyGrid"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.code,{children:"example_interfaces"}),": AddTwoInts (service), SetBool (service)"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"custom-message-types",children:"Custom Message Types"}),"\n",(0,i.jsx)(s.p,{children:"You can define custom messages in your package:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"# my_package/msg/RobotStatus.msg\nstring robot_name\nfloat64 battery_voltage\nbool is_moving\ngeometry_msgs/Pose current_pose\n"})}),"\n",(0,i.jsx)(s.p,{children:"After building, import with:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-python",children:"from my_package.msg import RobotStatus\n"})}),"\n",(0,i.jsx)(s.h3,{id:"message-inspection",children:"Message Inspection"}),"\n",(0,i.jsx)(s.p,{children:"View message structure:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-bash",children:"ros2 interface show std_msgs/msg/String\nros2 interface show sensor_msgs/msg/LaserScan\n"})}),"\n",(0,i.jsx)(s.p,{children:"Output:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{children:"# std_msgs/String\nstring data\n\n# sensor_msgs/LaserScan\nstd_msgs/Header header\nfloat32 angle_min\nfloat32 angle_max\nfloat32[] ranges\n...\n"})}),"\n",(0,i.jsx)(s.h3,{id:"best-practices",children:"Best Practices"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Use standard types when possible"}),": Promotes interoperability"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Namespace custom messages"}),": Prevents conflicts (",(0,i.jsx)(s.code,{children:"my_robot/Status"})," not ",(0,i.jsx)(s.code,{children:"Status"}),")"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Include timestamps"}),": Add ",(0,i.jsx)(s.code,{children:"std_msgs/Header"})," for time-sensitive data"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Document units"}),": Comment field units (meters, radians, etc.)"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Version carefully"}),": Changing message definitions breaks compatibility"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"hands-on-exercises",children:"Hands-On Exercises"}),"\n",(0,i.jsx)(s.h3,{id:"exercise-1-publisher-subscriber-pair",children:"Exercise 1: Publisher-Subscriber Pair"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Goal"}),": Create a node that publishes your name every 2 seconds and a subscriber that greets you."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Steps"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Create a publisher node that sends ",(0,i.jsx)(s.code,{children:"std_msgs/String"})," with your name"]}),"\n",(0,i.jsx)(s.li,{children:"Set timer period to 2.0 seconds"}),"\n",(0,i.jsx)(s.li,{children:'Create a subscriber that prints "Hello, [name]!"'}),"\n",(0,i.jsx)(s.li,{children:"Run both nodes and verify the greeting appears"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Success Criteria"}),': Terminal shows "Hello, [YourName]!" every 2 seconds']}),"\n",(0,i.jsx)(s.h3,{id:"exercise-2-sensor-data-processing",children:"Exercise 2: Sensor Data Processing"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Goal"}),": Modify the temperature monitor to calculate a running average."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Steps"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Add a list to store the last 5 temperature readings"}),"\n",(0,i.jsx)(s.li,{children:"Calculate the average in the callback"}),"\n",(0,i.jsx)(s.li,{children:"Log both the current temperature and the running average"}),"\n",(0,i.jsx)(s.li,{children:"Test with the temperature sensor publisher"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Success Criteria"}),": Output shows both instantaneous and average temperatures"]}),"\n",(0,i.jsx)(s.h3,{id:"exercise-3-service-configuration",children:"Exercise 3: Service Configuration"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Goal"}),": Create a service that configures the temperature monitor's thresholds."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Steps"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Define a custom service type with ",(0,i.jsx)(s.code,{children:"float64 min_temp"})," and ",(0,i.jsx)(s.code,{children:"float64 max_temp"})," in the request"]}),"\n",(0,i.jsx)(s.li,{children:"Add a service server to the TemperatureMonitor node"}),"\n",(0,i.jsx)(s.li,{children:"Create a client that calls this service"}),"\n",(0,i.jsx)(s.li,{children:"Verify the thresholds change dynamically"}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Success Criteria"}),": Alerts trigger at new thresholds after service call"]}),"\n",(0,i.jsx)(s.h3,{id:"exercise-4-multi-publisher-system",children:"Exercise 4: Multi-Publisher System"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Goal"}),": Create a system with 3 sensor publishers and 1 aggregator."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Steps"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["Create 3 temperature sensor nodes publishing to different topics (",(0,i.jsx)(s.code,{children:"temp1"}),", ",(0,i.jsx)(s.code,{children:"temp2"}),", ",(0,i.jsx)(s.code,{children:"temp3"}),")"]}),"\n",(0,i.jsx)(s.li,{children:"Create an aggregator that subscribes to all 3 topics"}),"\n",(0,i.jsx)(s.li,{children:"Aggregate should publish the maximum temperature among all sensors"}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"MultiThreadedExecutor"})," or run in separate processes"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Success Criteria"}),": Aggregator correctly identifies and publishes the highest temperature"]}),"\n",(0,i.jsx)(s.h3,{id:"exercise-5-topic-inspection",children:"Exercise 5: Topic Inspection"}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Goal"}),": Use ROS 2 command-line tools to inspect your running system."]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Steps"}),":"]}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:"Run the temperature sensor and monitor nodes"}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 node list"})," to see active nodes"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 topic list"})," to see active topics"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 topic echo /temperature"})," to view live data"]}),"\n",(0,i.jsxs)(s.li,{children:["Use ",(0,i.jsx)(s.code,{children:"ros2 topic hz /temperature"})," to measure publish rate"]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Success Criteria"}),": You can identify all nodes, topics, and verify the 2 Hz publish rate"]}),"\n",(0,i.jsx)(s.h2,{id:"key-takeaways",children:"Key Takeaways"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Nodes"})," are independent processes that perform specific tasks. Structure your system into logical nodes based on update rates, failure domains, and reusability."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Topics"})," implement asynchronous publish-subscribe for continuous data streams. Use them for sensor data, status updates, and commands where producers don't need acknowledgment."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Services"})," implement synchronous request-response for queries and configuration. Use them when you need an immediate answer or want to trigger a computation."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Message types"})," ensure type safety. Use standard types when possible and create custom messages for domain-specific data."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:["The ",(0,i.jsx)(s.code,{children:"rclpy.node.Node"})," class is the foundation of every Python node, providing publishers, subscribers, services, timers, and logging."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Decoupling"})," is key: publishers don't know about subscribers, enabling dynamic system composition and fault isolation."]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Quality of Service (QoS)"})," policies let you tune reliability, durability, and history for each topic based on your application's needs."]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.hr,{}),"\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Previous"}),": ",(0,i.jsx)(s.a,{href:"/physical-ai-humanoid-robotics/docs/module-1-ros2/ros2-fundamentals",children:"ROS 2 Fundamentals"})]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>a});var r=n(6540);const i={},t=r.createContext(i);function l(e){const s=r.useContext(t);return r.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(t.Provider,{value:s},e.children)}}}]);